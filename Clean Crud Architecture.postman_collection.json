{
	"info": {
		"_postman_id": "479a68a4-20f4-4e7b-b179-9b147898ccd1",
		"name": "Clean Crud Architecture",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "21670847"
	},
	"item": [
		{
			"name": "Cruds",
			"item": [
				{
					"name": "crud/read",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "CfDJ8LSLMr6S0O1FndVeAahH7a4c1OEXMyNZvAZZPVvok-d7w7PDbaFPKhPuSE6fpYnaQItQYgz4bfvjIRJgnNC7hUiUe8HRO7gdi2jyc3s4zkN00wvjaAnyqv0-en2tQiiPQ66lH6uO-F-YZEloeZkbQr0GggCvTAaBb2V4K3QOXWUbg_VB8o5STC0Oi4lVA8MPzyEqj_gFSz7375qwt45z4DHr2e1-qQDwJa0hS3l-PLaymkD1jPq8vkCipcNTOz6Bl7rc6SYMV8R06XNCcGjGYwL9YA2Z_GLGGTK3dDp8Yk-PoBvV5sPqsYCEnu_hqLEZsV-IEqieR4rOO6MDGFSWIAUEdpHy0l5hinwNwaWLxqk8UfK0MKQbyqSvcil5j8P4V7cdqWWTyDrrS4EGnAH0MQjslZ91m5HqMXbcjPNpkxVxVL10K1yrVQ-jc_SHX0PZPMoZqSZvzKE38-J0mbDpyEk70isTVnDBINGlpVterCaQW-xpKNfKkzGtMS0LJQFoGOdtaag6xV7wrHRBJGHVM1alEcJAShXwn8BXINe77fvuRG9v-bUKuoT5ghweoPuevZQsVd8juxhDrz7OcfKgtxjS6az5UXSml3Me31A5ow9q9pdm_bai9UYYK1R3b6BiFvyoaKajeC3j4MXcByAoeGJZE1XHvM_yHb6GeEghW_0FIcBF76GikqdwK6P21S543A",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "nocache",
								"value": "true",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{Api-Url}}/crud/read?page=1&perPage=100",
							"host": [
								"{{Api-Url}}"
							],
							"path": [
								"crud",
								"read"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "perPage",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "crud/read-by-id",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "CfDJ8LSLMr6S0O1FndVeAahH7a4c1OEXMyNZvAZZPVvok-d7w7PDbaFPKhPuSE6fpYnaQItQYgz4bfvjIRJgnNC7hUiUe8HRO7gdi2jyc3s4zkN00wvjaAnyqv0-en2tQiiPQ66lH6uO-F-YZEloeZkbQr0GggCvTAaBb2V4K3QOXWUbg_VB8o5STC0Oi4lVA8MPzyEqj_gFSz7375qwt45z4DHr2e1-qQDwJa0hS3l-PLaymkD1jPq8vkCipcNTOz6Bl7rc6SYMV8R06XNCcGjGYwL9YA2Z_GLGGTK3dDp8Yk-PoBvV5sPqsYCEnu_hqLEZsV-IEqieR4rOO6MDGFSWIAUEdpHy0l5hinwNwaWLxqk8UfK0MKQbyqSvcil5j8P4V7cdqWWTyDrrS4EGnAH0MQjslZ91m5HqMXbcjPNpkxVxVL10K1yrVQ-jc_SHX0PZPMoZqSZvzKE38-J0mbDpyEk70isTVnDBINGlpVterCaQW-xpKNfKkzGtMS0LJQFoGOdtaag6xV7wrHRBJGHVM1alEcJAShXwn8BXINe77fvuRG9v-bUKuoT5ghweoPuevZQsVd8juxhDrz7OcfKgtxjS6az5UXSml3Me31A5ow9q9pdm_bai9UYYK1R3b6BiFvyoaKajeC3j4MXcByAoeGJZE1XHvM_yHb6GeEghW_0FIcBF76GikqdwK6P21S543A",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "nocache",
								"value": "true",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Api-Url}}/crud/read-by-id?id=12",
							"host": [
								"{{Api-Url}}"
							],
							"path": [
								"crud",
								"read-by-id"
							],
							"query": [
								{
									"key": "id",
									"value": "12"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "crud/seed-db",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "CfDJ8LSLMr6S0O1FndVeAahH7a4c1OEXMyNZvAZZPVvok-d7w7PDbaFPKhPuSE6fpYnaQItQYgz4bfvjIRJgnNC7hUiUe8HRO7gdi2jyc3s4zkN00wvjaAnyqv0-en2tQiiPQ66lH6uO-F-YZEloeZkbQr0GggCvTAaBb2V4K3QOXWUbg_VB8o5STC0Oi4lVA8MPzyEqj_gFSz7375qwt45z4DHr2e1-qQDwJa0hS3l-PLaymkD1jPq8vkCipcNTOz6Bl7rc6SYMV8R06XNCcGjGYwL9YA2Z_GLGGTK3dDp8Yk-PoBvV5sPqsYCEnu_hqLEZsV-IEqieR4rOO6MDGFSWIAUEdpHy0l5hinwNwaWLxqk8UfK0MKQbyqSvcil5j8P4V7cdqWWTyDrrS4EGnAH0MQjslZ91m5HqMXbcjPNpkxVxVL10K1yrVQ-jc_SHX0PZPMoZqSZvzKE38-J0mbDpyEk70isTVnDBINGlpVterCaQW-xpKNfKkzGtMS0LJQFoGOdtaag6xV7wrHRBJGHVM1alEcJAShXwn8BXINe77fvuRG9v-bUKuoT5ghweoPuevZQsVd8juxhDrz7OcfKgtxjS6az5UXSml3Me31A5ow9q9pdm_bai9UYYK1R3b6BiFvyoaKajeC3j4MXcByAoeGJZE1XHvM_yHb6GeEghW_0FIcBF76GikqdwK6P21S543A",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{Api-Url}}/crud/seed-db?count=3",
							"host": [
								"{{Api-Url}}"
							],
							"path": [
								"crud",
								"seed-db"
							],
							"query": [
								{
									"key": "count",
									"value": "3"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "crud/create",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"name\": \"My New Crud\",\r\n  \"department\": \"Crud Department\",\r\n  \"description\": \"It's super cruddy!\",\r\n  \"tags\": [\r\n    \"Create\", \"Create\", \"Update\", \"Delete\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Api-Url}}/crud/create",
							"host": [
								"{{Api-Url}}"
							],
							"path": [
								"crud",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "crud/update",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"id\": 0,\r\n  \"name\": \"My New Crud\",\r\n  \"department\": \"Crud Department\",\r\n  \"description\": \"It's super cruddy!\",\r\n  \"tags\": [\r\n    \"Create\", \"Create\", \"Update\", \"Delete\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Api-Url}}/crud/update",
							"host": [
								"{{Api-Url}}"
							],
							"path": [
								"crud",
								"update"
							]
						}
					},
					"response": []
				},
				{
					"name": "crud/delete-by-id",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"name\": \"My New Crud\",\r\n  \"department\": \"Crud Department\",\r\n  \"description\": \"It's super cruddy!\",\r\n  \"tags\": [\r\n    \"Create\", \"Create\", \"Update\", \"Delete\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Api-Url}}/crud/delete-by-id?id=11",
							"host": [
								"{{Api-Url}}"
							],
							"path": [
								"crud",
								"delete-by-id"
							],
							"query": [
								{
									"key": "id",
									"value": "11"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Auth",
			"item": [
				{
					"name": "Keycloak Server",
					"item": [
						{
							"name": "Token",
							"item": [
								{
									"name": "Get Api Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"Kyclk-Api-Token\", pm.response.json().access_token);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "urlencoded",
											"urlencoded": [
												{
													"key": "grant_type",
													"value": "client_credentials",
													"type": "text"
												},
												{
													"key": "client_id",
													"value": "{{Kyclk-Api-Client-Id}}",
													"type": "text"
												},
												{
													"key": "client_secret",
													"value": "{{Kyclk-Api-Client-Secret}}",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{Keycloak-Url}}/realms/master/protocol/openid-connect/token",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"realms",
												"master",
												"protocol",
												"openid-connect",
												"token"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Users",
							"item": [
								{
									"name": "Create New User",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Kyclk-Api-Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"username\": \"string\",\r\n\t\"firstName\": \"string\",\r\n\t\"lastName\": \"string\",\r\n\t\"email\": \"string@email.com\",\r\n\t\"emailVerified\": false,\r\n\t\"enabled\": false,\r\n\t\"credentials\": [\r\n\t\t{\r\n\t\t\t\"temporary\": false,\r\n\t\t\t\"type\": \"password\",\r\n\t\t\t\"value\": \"string\"\r\n\t\t}\r\n\t]\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Keycloak-Url}}/admin/realms/{{Kyclk-Realm}}/users",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"admin",
												"realms",
												"{{Kyclk-Realm}}",
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Users of Realm",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Kyclk-Api-Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{Keycloak-Url}}/admin/realms/{{Kyclk-Realm}}/users",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"admin",
												"realms",
												"{{Kyclk-Realm}}",
												"users"
											],
											"query": [
												{
													"key": "first",
													"value": "2",
													"description": "Pagination offset",
													"disabled": true
												},
												{
													"key": "max",
													"value": "2",
													"description": "Maximum results size (defaults to 100)",
													"disabled": true
												},
												{
													"key": "Username",
													"value": "wri",
													"description": "String contained in a username",
													"disabled": true
												},
												{
													"key": "email",
													"value": "",
													"disabled": true
												},
												{
													"key": "emailVerified",
													"value": "",
													"disabled": true
												},
												{
													"key": "enabled",
													"value": "",
													"disabled": true
												},
												{
													"key": "exact",
													"value": "",
													"disabled": true
												},
												{
													"key": "firstName",
													"value": "",
													"disabled": true
												},
												{
													"key": "lastName",
													"value": "",
													"disabled": true
												},
												{
													"key": "search",
													"value": "",
													"description": "A String contained in username, first or last name, or email. Default search behavior is prefix-based (e.g., foo or foo*). Use foo for infix search and &quot;foo&quot; for exact search.",
													"disabled": true
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add Role to User",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Kyclk-Api-Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\r\n    {\r\n        \"id\": \"f3cca280-062e-4b36-aa30-fdbedffda700\",\r\n        \"name\": \"Registered\",\r\n        \"description\": \"Can use GET endpoints\",\r\n        \"composite\": false,\r\n        \"clientRole\": true,\r\n        \"containerId\": \"38f3017b-ca7f-4adc-91f1-e0810c99a4db\"\r\n    }\r\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Keycloak-Url}}/admin/realms/{{Kyclk-Realm}}/users/{{USER_UUID}}/role-mappings/clients/{{Kyclk-Api-Client-Uuid}}",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"admin",
												"realms",
												"{{Kyclk-Realm}}",
												"users",
												"{{USER_UUID}}",
												"role-mappings",
												"clients",
												"{{Kyclk-Api-Client-Uuid}}"
											],
											"query": [
												{
													"key": "NOTE: User UUID must appear in the url path.",
													"value": "NOTE: User UUID must appear in the url path.",
													"description": "NOTE: User UUID must appear in the url path.",
													"disabled": true
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Roles",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Kyclk-Api-Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Keycloak-Url}}/admin/realms/{{Kyclk-Realm}}/clients/{{Kyclk-Ui-Client-Uuid}}/roles",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"admin",
												"realms",
												"{{Kyclk-Realm}}",
												"clients",
												"{{Kyclk-Ui-Client-Uuid}}",
												"roles"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Role Detail by Name",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Kyclk-Api-Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Keycloak-Url}}/admin/realms/{{Kyclk-Realm}}/clients/{{Kyclk-Ui-Client-Uuid}}/roles",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"admin",
												"realms",
												"{{Kyclk-Realm}}",
												"clients",
												"{{Kyclk-Ui-Client-Uuid}}",
												"roles"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Role Details",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Kyclk-Api-Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"username\": \"app_user_test\",\r\n\t\"firstName\": \"app_user_firstname\",\r\n\t\"lastName\": \"app_user_lastname\",\r\n\t\"email\": \"app_user@test.fr\",\r\n\t\"emailVerified\": true,\r\n\t\"enabled\": true,\r\n\t\"credentials\": [\r\n\t\t{\r\n\t\t\t\"temporary\": false,\r\n\t\t\t\"type\": \"password\",\r\n\t\t\t\"value\": \"mypassword\"\r\n\t\t}\r\n\t]\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Keycloak-Url}}/admin/realms/{{Kyclk-Realm}}/clients/{{Kyclk-Api-Client-Uuid}}/roles/Reader",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"admin",
												"realms",
												"{{Kyclk-Realm}}",
												"clients",
												"{{Kyclk-Api-Client-Uuid}}",
												"roles",
												"Reader"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Ui Tokens",
							"item": [
								{
									"name": "Get Unregistered User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"Keycloak-Token-Ui-Type\", \"Unregistered\");"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "urlencoded",
											"urlencoded": [
												{
													"key": "grant_type",
													"value": "password",
													"type": "text"
												},
												{
													"key": "client_id",
													"value": "{{Kyclk-Ui-Client-Id}}",
													"type": "text"
												},
												{
													"key": "client_secret",
													"value": "{{Kyclk-Ui-Client-Secret}}",
													"type": "text"
												},
												{
													"key": "username",
													"value": "testuser-unregistered",
													"type": "text"
												},
												{
													"key": "password",
													"value": "Test123!",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{Keycloak-Url}}/realms/{{Keycloak-Realm}}/protocol/openid-connect/token",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"realms",
												"{{Keycloak-Realm}}",
												"protocol",
												"openid-connect",
												"token"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Registered User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"Keycloak-Token-Ui-Type\", \"Registered\");"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "urlencoded",
											"urlencoded": [
												{
													"key": "grant_type",
													"value": "password",
													"type": "text"
												},
												{
													"key": "client_id",
													"value": "{{Kyclk-Ui-Client-Id}}",
													"type": "text"
												},
												{
													"key": "client_secret",
													"value": "{{Kyclk-Ui-Client-Secret}}",
													"type": "text"
												},
												{
													"key": "username",
													"value": "testuser-registered",
													"type": "text"
												},
												{
													"key": "password",
													"value": "Test123!",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{Keycloak-Url}}/realms/{{Kyclk-Realm}}/protocol/openid-connect/token",
											"host": [
												"{{Keycloak-Url}}"
											],
											"path": [
												"realms",
												"{{Kyclk-Realm}}",
												"protocol",
												"openid-connect",
												"token"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "Api Test Harness",
					"item": [
						{
							"name": "User Management",
							"item": [
								{
									"name": "Create User",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"username\": \"AAAAAAAAAAAAAAAAstring23\",\r\n  \"firstName\": \"string\",\r\n  \"lastName\": \"string\",\r\n  \"email\": \"string@23.23\",\r\n  \"password\": \"string\",\r\n  \"role\": \"Registered\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Crud-Api-Url}}/user-management-test-harness/create-user",
											"host": [
												"{{Crud-Api-Url}}"
											],
											"path": [
												"user-management-test-harness",
												"create-user"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "Crud-Api-Url",
			"value": "https://localhost:32776",
			"type": "string"
		},
		{
			"key": "Keycloak-Url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "Kyclk-Realm",
			"value": "clean-crud",
			"type": "string"
		},
		{
			"key": "Kyclk-Api-Client-Id",
			"value": "clean-crud-api",
			"type": "string"
		},
		{
			"key": "Kyclk-Api-Client-Secret",
			"value": "g1CxC84rlOuhSW1QIqchmykrdVD4IQv9",
			"type": "string"
		},
		{
			"key": "Kyclk-Api-Client-Uuid",
			"value": "23add48a-75a7-4eaf-ae39-66e78991baba",
			"type": "string"
		},
		{
			"key": "Kyclk-Ui-Client-Id",
			"value": "clean-crud-ui",
			"type": "string"
		},
		{
			"key": "Kyclk-Ui-Client-Secret",
			"value": "sh5vuqdnjmLzzCmRCLDkYlHUhn2c4893",
			"type": "string"
		},
		{
			"key": "Kyclk-Ui-Client-Uuid",
			"value": "6b8e22a4-f35f-4267-a1e0-42e705997dc3",
			"type": "string"
		},
		{
			"key": "Kyclk-Ui-Token-Type",
			"value": "Unregistered"
		},
		{
			"key": "Kyclk-Api-Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "Keycloak-Token-Ui",
			"value": ""
		},
		{
			"key": "Keycloak-Token-Ui-Type",
			"value": ""
		}
	]
}